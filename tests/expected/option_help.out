
pg_probackup - utility to manage backup/recovery of PostgreSQL database.

  pg_probackup help [COMMAND]

  pg_probackup version

  pg_probackup init -B backup-dir
                 [--s3=s3-interface-provider]
                 [--skip-if-exists]
                 [--dry-run]
                 [--help]

  pg_probackup set-config -B backup-dir --instance=instance-name
                 [-D pgdata-path]
                 [--external-dirs=external-directories-paths]
                 [--log-level-console=log-level-console]
                 [--log-level-file=log-level-file]
                 [--log-format-file=log-format-file]
                 [--log-filename=log-filename]
                 [--error-log-filename=error-log-filename]
                 [--log-directory=log-directory]
                 [--log-rotation-size=log-rotation-size]
                 [--log-rotation-age=log-rotation-age]
                 [--retention-redundancy=retention-redundancy]
                 [--retention-window=retention-window]
                 [--wal-depth=wal-depth]
                 [--compress-algorithm=compress-algorithm]
                 [--compress-level=compress-level]
                 [--archive-timeout=timeout]
                 [-d dbname] [-h host] [-p port] [-U username]
                 [--remote-proto] [--remote-host]
                 [--remote-port] [--remote-path] [--remote-user]
                 [--ssh-options]
                 [--restore-command=cmdline] [--archive-host=destination]
                 [--archive-port=port] [--archive-user=username]
                 [--write-rate-limit=baudrate]
                 [--dry-run]
                 [--help]

  pg_probackup set-backup -B backup-dir --instance=instance-name
                 -i backup-id [--ttl=interval] [--expire-time=timestamp]
                 [--note=text]
                 [--dry-run]
                 [--help]

  pg_probackup show-config -B backup-dir --instance=instance-name
                 [--format=format]
                 [--no-scale-units]
                 [--help]

  pg_probackup backup -B backup-dir -b backup-mode --instance=instance-name
                 [-D pgdata-path] [-C]
                 [--stream [-S slot-name] [--temp-slot]]
                 [--backup-pg-log] [-j num-threads] [--progress]
                 [--no-validate] [--skip-block-validation]
                 [--external-dirs=external-directories-paths]
                 [--no-sync]
                 [--log-level-console=log-level-console]
                 [--log-level-file=log-level-file]
                 [--log-format-console=log-format-console]
                 [--log-format-file=log-format-file]
                 [--log-filename=log-filename]
                 [--error-log-filename=error-log-filename]
                 [--log-directory=log-directory]
                 [--log-rotation-size=log-rotation-size]
                 [--log-rotation-age=log-rotation-age] [--no-color]
                 [--delete-expired] [--delete-wal] [--merge-expired]
                 [--retention-redundancy=retention-redundancy]
                 [--retention-window=retention-window]
                 [--wal-depth=wal-depth]
                 [--compress]
                 [--compress-algorithm=compress-algorithm]
                 [--compress-level=compress-level]
                 [--archive-timeout=archive-timeout]
                 [-d dbname] [-h host] [-p port] [-U username]
                 [-w --no-password] [-W --password]
                 [--remote-proto] [--remote-host]
                 [--remote-port] [--remote-path] [--remote-user]
                 [--ssh-options]
                 [--ttl=interval] [--expire-time=timestamp] [--note=text]
                 [--write-rate-limit=baudrate]
                 [--s3=s3-interface-provider]
                 [--cfs-nondatafile-mode]
                 [--dry-run]
                 [--help]

  pg_probackup restore -B backup-dir --instance=instance-name
                 [-D pgdata-path] [-i backup-id] [-j num-threads]
                 [--recovery-target-time=time|--recovery-target-xid=xid
                  |--recovery-target-lsn=lsn [--recovery-target-inclusive=boolean]]
                 [--recovery-target-timeline=timeline]
                 [--recovery-target=immediate|latest]
                 [--recovery-target-name=target-name]
                 [--recovery-target-action=pause|promote|shutdown]
                 [--restore-command=cmdline]
                 [-R | --restore-as-replica] [--force]
                 [--primary-conninfo=primary_conninfo]
                 [-S | --primary-slot-name=slotname]
                 [--no-validate] [--skip-block-validation]
                 [-T OLDDIR=NEWDIR] [--progress]
                 [--external-mapping=OLDDIR=NEWDIR]
                 [--skip-external-dirs] [--no-sync]
                 [-X WALDIR | --waldir=WALDIR]
                 [-I | --incremental-mode=none|checksum|lsn]
                 [--db-include | --db-exclude]
                 [--destroy-all-other-dbs]
                 [--remote-proto] [--remote-host]
                 [--remote-port] [--remote-path] [--remote-user]
                 [--ssh-options]
                 [--archive-host=hostname]
                 [--archive-port=port] [--archive-user=username]
                 [--s3=s3-interface-provider]
                 [--dry-run]
                 [--help]

  pg_probackup validate -B backup-dir [--instance=instance-name]
                 [-i backup-id] [--progress] [-j num-threads]
                 [--recovery-target-time=time|--recovery-target-xid=xid
                  |--recovery-target-lsn=lsn [--recovery-target-inclusive=boolean]]
                 [--recovery-target-timeline=timeline]
                 [--recovery-target-name=target-name]
                 [--skip-block-validation]
                 [--s3=s3-interface-provider]
                 [--wal]
                 [--help]

  pg_probackup checkdb [-B backup-dir] [--instance=instance-name]
                 [-D pgdata-path] [--progress] [-j num-threads]
                 [--amcheck] [--skip-block-validation]
                 [--heapallindexed] [--checkunique]
                 [--help]

  pg_probackup show -B backup-dir
                 [--instance=instance-name [-i backup-id]]
                 [--format=format] [--archive]
                 [--no-color] [--show-symlinks]
                 [--s3=s3-interface-provider]
                 [--help]

  pg_probackup delete -B backup-dir --instance=instance-name
                 [-j num-threads] [--progress]
                 [--retention-redundancy=retention-redundancy]
                 [--retention-window=retention-window]
                 [--wal-depth=wal-depth]
                 [-i backup-id | --delete-expired | --merge-expired | --status=backup_status]
                 [--delete-wal]
                 [--dry-run] [--no-validate] [--no-sync]
                 [--s3=s3-interface-provider]
                 [--help]

  pg_probackup merge -B backup-dir --instance=instance-name
                 -i backup-id [--progress] [-j num-threads]
                 [--no-validate] [--no-sync]
                 [--dry-run]
                 [--help]

  pg_probackup add-instance -B backup-dir -D pgdata-path
                 --instance=instance-name
                 [--external-dirs=external-directories-paths]
                 [--remote-proto] [--remote-host]
                 [--remote-port] [--remote-path] [--remote-user]
                 [--ssh-options]
                 [--s3=s3-interface-provider]
                 [--skip-if-exists]
                 [--dry-run]
                 [--compress-algorithm=compress-algorithm]
                 [--compress-level=compress-level]
                 [--help]

  pg_probackup del-instance -B backup-dir
                 --instance=instance-name
                 [--s3=s3-interface-provider]
                 [--dry-run]
                 [--help]

  pg_probackup archive-push -B backup-dir --instance=instance-name
                 --wal-file-name=wal-file-name
                 [--wal-file-path=wal-file-path]
                 [-j num-threads] [--batch-size=batch_size]
                 [--archive-timeout=timeout]
                 [--no-ready-rename] [--no-sync]
                 [--overwrite] [--compress]
                 [--compress-algorithm=compress-algorithm]
                 [--compress-level=compress-level]
                 [--remote-proto] [--remote-host]
                 [--remote-port] [--remote-path] [--remote-user]
                 [--ssh-options]
                 [--dry-run]
                 [--help]

  pg_probackup archive-get -B backup-dir --instance=instance-name
                 --wal-file-path=wal-file-path
                 --wal-file-name=wal-file-name
                 [-j num-threads] [--batch-size=batch_size]
                 [--no-validate-wal]
                 [--remote-proto] [--remote-host]
                 [--remote-port] [--remote-path] [--remote-user]
                 [--ssh-options]
                 [--dry-run]
                 [--help]

  pg_probackup catchup  -b catchup-mode
                 --source-pgdata=path_to_pgdata_on_remote_server
                 --destination-pgdata=path_to_local_dir
                 [--stream [-S slot-name] [--temp-slot | --perm-slot]]
                 [-j num-threads]
                 [-T OLDDIR=NEWDIR]
                 [--exclude-path=path_prefix]
                 [-X WALDIR | --waldir=WALDIR]
                 [-d dbname] [-h host] [-p port] [-U username]
                 [-w --no-password] [-W --password]
                 [--remote-proto] [--remote-host]
                 [--remote-port] [--remote-path] [--remote-user]
                 [--ssh-options]
                 [--dry-run]
                 [--help]

 pg_probackup S3 Enviroment variables
PG_PROBACKUP_S3_HOST              Host name of the S3 server
PG_PROBACKUP_S3_PORT              Port of the S3 server
PG_PROBACKUP_S3_REGION            Region of the S3 server
PG_PROBACKUP_S3_BUCKET_NAME       Bucket on the S3 server
PG_PROBACKUP_S3_ACCESS_KEY,
PG_PROBACKUP_S3_SECRET_ACCESS_KEY Secure tokens on the S3 server
PG_PROBACKUP_S3_HTTPS             S3 HTTP protocol
                                  Set to ON or HTTPS for HTTPS or to any other
                                  value for HTTP.
                                  Default values:
                                    HTTP if --s3=minio is specified
                                    HTTPS otherwise
PG_PROBACKUP_S3_BUFFER_SIZE       Size of the read/write buffer (in MiB) for
                                  communicating with S3 (default: 16)
PG_PROBACKUP_S3_RETRIES           Maximum number of attempts to execute an S3
                                  request in case of failures (default: 5)
PG_PROBACKUP_S3_TIMEOUT           Maximum allowable amount of time (in seconds)
                                  for transferring PG_PROBACKUP_S3_BUFFER_SIZE
                                  of data to/from S3 (default: 300)
PG_PROBACKUP_S3_IGNORE_CERT_VER   Don't verify the certificate host and peer
PG_PROBACKUP_S3_CA_CERTIFICATE    Trust to the path to Certificate Authority (CA) bundle
PG_PROBACKUP_S3_CA_PATH           Trust to the directory holding CA certificates
PG_PROBACKUP_S3_CLIENT_CERT       Setup SSL client certificate
PG_PROBACKUP_S3_CLIENT_KEY        Setup private key file for TLS and SSL client certificate

Read the website for details <https://github.com/postgrespro/pg_probackup>.
Report bugs to <https://github.com/postgrespro/pg_probackup/issues>.
