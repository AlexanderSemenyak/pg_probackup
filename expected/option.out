\! bash sql/option.sh
###### COMMAND OPTION TEST-0001 ######
###### help option ######
pg_probackup manage backup/recovery of PostgreSQL database.

Usage:
  pg_probackup OPTION init
  pg_probackup OPTION backup
  pg_probackup OPTION restore
  pg_probackup OPTION show [ID]
  pg_probackup OPTION validate [ID]
  pg_probackup OPTION delete ID
  pg_probackup OPTION delwal [ID]

Common Options:
  -D, --pgdata=PATH         location of the database storage area
  -B, --backup-path=PATH    location of the backup storage area
  -j, --threads=NUM         num threads for backup and restore
  --progress                show progress copy files

Backup options:
  -b, --backup-mode=MODE    full,page,ptrack
  -C, --smooth-checkpoint   do smooth checkpoint before backup
  --stream                  use stream for save/restore WAL during backup
  --backup-pg-log           start backup pg_log directory
  -S, --slot=SLOTNAME       replication slot to use

Restore options:
  --time    time stamp up to which recovery will proceed
  --xid     transaction ID up to which recovery will proceed
  --inclusive whether we stop just after the recovery target
  --timeline  recovering into a particular timeline

Catalog options:
  -a, --show-all            show deleted backup too

Delete options:
  --wal                     remove unnecessary wal archives also

Connection options:
  -d, --dbname=DBNAME       database to connect
  -h, --host=HOSTNAME       database server host or socket directory
  -p, --port=PORT           database server port
  -U, --username=USERNAME   user name to connect as
  -w, --no-password         never prompt for password
  -W, --password            force password prompt

Generic options:
  -q, --quiet               don't write any messages
  -v, --verbose             verbose mode
  --help                    show this help, then exit
  --version                 output version information, then exit

Read the website for details. <https://github.com/postgrespro/pg_probackup>
Report bugs to <https://github.com/postgrespro/pg_probackup/issues>.
1

###### COMMAND OPTION TEST-0002 ######
###### version option ######
pg_probackup 1.0
1

###### COMMAND OPTION TEST-0003 ######
###### backup command failure without backup path option ######
ERROR: required parameter not specified: BACKUP_PATH (-B, --backup-path)
1

###### COMMAND OPTION TEST-0004 ######
###### backup command failure without backup mode option ######
ERROR: Required parameter not specified: BACKUP_MODE (-b, --backup-mode)
1

###### COMMAND OPTION TEST-0005 ######
###### backup command failure with invalid backup mode option ######
ERROR: invalid backup-mode "bad"
1

###### COMMAND OPTION TEST-0007 ######
###### delete failure without DATE ######
ERROR: required backup ID not specified
1

###### COMMAND OPTION TEST-0008 ######
###### syntax error in pg_probackup.conf ######
WARNING: syntax error in " = INFINITE"
ERROR: Required parameter not specified: BACKUP_MODE (-b, --backup-mode)
1

###### COMMAND OPTION TEST-0009 ######
###### invalid value in pg_probackup.conf ######
ERROR: invalid backup-mode ""
1

###### COMMAND OPTION TEST-0010 ######
###### invalid value in pg_probackup.conf ######
ERROR: invalid option "KEEP_DATA_GENERATIONS"
1

###### COMMAND OPTION TEST-0011 ######
###### invalid value in pg_probackup.conf ######
ERROR: option -C, --smooth-checkpoint should be a boolean: 'FOO'
1

###### COMMAND OPTION TEST-0012 ######
###### invalid option in pg_probackup.conf ######
ERROR: invalid option "TIMELINEID"
1

###### COMMAND OPTION TEST-0013 ######
###### check priority of several pg_probackup.conf files ######
ERROR: invalid backup-mode "ENV_PATH"
1

